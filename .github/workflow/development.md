開発ワークフロー
=========================

概要
-------------------------

コード作成・修正、機能実装、データベース作業、テスト作業時の効率的な情報収集と作業手順を定義します。

情報取得の実行手順
-------------------------

作業開始時に以下の手順で必要最小限の情報を段階的に取得する。

1. 初期コンテキスト分析: 提供された情報から作業種別と必要情報を特定
2. 主要情報の取得: `read_file`ツールを使用して作業に直接関連するドキュメントのみを取得
3. 情報の精査と抽出: 取得した情報から作業に必要な部分のみを抽出し、過剰な情報は排除
4. 必要時の追加取得: 不足情報がある場合のみ`semantic_search`や`grep_search`で補完

作業種別と必要な参照情報
-------------------------

### コード作成・修正

#### 対象作業

PHPファイル作成/編集、クラス設計、メソッド実装、リファクタリング

#### 必須参照ドキュメント

- [コーディング規約](../docs/code_style.md): 適用すべきルールを確認
- [技術スタック](../docs/technology.md): 使用技術を把握

#### 実行手順

1. 必須ドキュメントを取得して品質基準を確認
2. 必要に応じて`grep_search`で既存コードのパターンを調査
3. コード作成時は以下を厳守する
    - 関数やメソッドには必ず日本語でDocコメントをつける
    - SQLを直接記述する場合、予約語は必ず大文字で記述する

### 機能実装

#### 対象作業

新機能開発、機能拡張、ビジネスロジック実装

#### 必須参照ドキュメント

- [要件定義](../docs/requirements.md): プロジェクト要件を理解
- [データベーススキーマ](../docs/schema/schema.json): データ構造と関連性を把握

#### 実行手順

1. 要件定義を取得してプロジェクト要件を理解
2. スキーマ定義を取得してデータ構造を把握
3. `semantic_search`で関連する既存実装を調査
4. 要件と既存実装の整合性を確認

### データベース関連作業

#### 対象作業

マイグレーション作成、SQL実行、ORM設定、データ操作

#### 必須参照ドキュメント

- [データベーススキーマ](../docs/schema/schema.json): テーブル定義を取得

#### 実行手順

1. スキーマ定義を取得してデータ構造を把握
2. `grep_search`で既存のマイグレーションファイルパターンを調査
3. データ整合性と制約を確認

### テスト関連作業

#### 対象作業

ユニットテスト作成、インテグレーションテスト、テスト実行

#### 必須参照ドキュメント

- [テスト方針](../docs/test_policy.md): テスト品質基準を取得

#### 実行手順

1. テスト方針を取得して品質基準を確認
2. `file_search`で既存テストファイルの構造を調査
3. テスト品質基準への準拠を確認

効率的な参照ルール
-------------------------

- 能動的情報収集: タスク開始時に必要な情報を自身で判断し、適切なツールを使用して取得する
- 段階的コンテキスト構築: 最小限の情報で開始し、必要に応じて段階的に詳細情報を取得する
- 作業判定による選択的参照: 上記の具体例に基づいて必要なドキュメントのみを参照する
- 複合作業時の優先度制御: 主たる作業種別を優先し、必要に応じて追加参照を行う

基本理解（必要に応じて段階的に取得）
-------------------------

- [プロジェクトブリーフ](../docs/index.md): プロジェクト全体の文脈が必要な場合のみ参照
- [システム構成](../docs/architecture.md): アーキテクチャ理解が必要な場合のみ参照
- [ディレクトリ構造](../docs/directory_structure.md): ファイル配置が不明な場合のみ参照
- [ローカル開発環境](../docs/local_development.md): 環境構築・設定が必要な場合のみ参照
- [Git運用ルール](../docs/git_operation.md): ブランチ戦略・コミット規則が不明な場合のみ参照
- [セキュリティポリシー](../docs/security_policy.md): セキュリティ要件が関わる場合のみ参照
- [デプロイ手順](../docs/deployment.md): リリース・デプロイが必要な場合のみ参照
- [ペルソナ定義](../docs/persona.md): ユーザー理解が必要な場合のみ参照
- [チートシート](../docs/cheat_sheet.md): 特定のコマンドが不明な場合のみ参照
- [用語集](../docs/glossary.md): 専門用語が不明な場合のみ参照
