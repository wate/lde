コーディング規約
=========================

本プロジェクトで採用しているコーディング規約について説明します。

共通規約
-------------------------

### 文字コードと改行コード

全てのファイルに共通する規約です。

* 文字コード: UTF-8
* 改行コード: LF (Unix/Linux形式)
* 最終行に改行を入れる
* 行末の空白を削除する

### インデントと行の長さ

* 基本インデントサイズ: 2スペース
* 行の長さは120文字以内に収める
* タブ文字は使用せず、スペースを使用する

言語別規約
-------------------------

### PHP

PHPコードは[PSR-12](https://www.php-fig.org/psr/psr-12/)に準拠し、以下の追加ルールを適用しています。

* インデントサイズ: 4スペース
* 配列記法: 短縮構文（`[]`）を使用し、長い配列構文（`array()`）は禁止
* 行の長さ制限:
    * 160文字を超えるとWARNING
    * 200文字を超えるとERROR
    * コメント行は長さチェック対象外

#### CakePHP使用時の例外設定（現在は無効）

CakePHPフレームワーク使用時は、以下の例外設定を有効化できます（現在はコメントアウト）。

* プロパティとメソッド宣言でのアンダースコアの使用許可
* ファイルヘッダーの書式に関する制限緩和
* テンプレートファイルの行長さ制限の除外
* 特定ディレクトリの名前空間の要件緩和（Migrations、Seeds）
* 特定ファイルのサイドエフェクト許可（config、tests）
* 特定クラスのキャメルケース命名規則緩和（Controller、Command、Shell、tests）

#### 対象ディレクトリ

* `config`
* `src`
* `tests`

### Markdown

* インデントサイズ: 4スペース
* 行末の空白を維持する（意図的な改行のため）
* 行の長さ: 120文字
* 見出しスタイル:
    * h1とh2はsetext記法（`=====`や`-----`による下線スタイル）
    * h3以降はatx記法（`###`による記法）
    * setext記法で記述する場合、`=`または`-`の数は25個で固定
* リストのネストインデント: 4スペース
* 見出しの前後に空白行を1行ずつ入れる
* 同一セクション内の同じレベルでの見出し重複を禁止
* 裸のURL（リンクなしのURLテキスト）の使用を許可
* コードブロックに言語指定がなくても許可

#### 備考

以下の短縮コードを使用することで  
コーディング規約に沿った形の見出しを簡単に挿入できます。

* `/h1`: h1見出しを挿入
* `/h2`: h2見出しを挿入
* `/h3`: h3見出しを挿入

### テキスト文書（textlint）

日本語テキストに関する規約は以下のとおりです。

* 技術文書向けの日本語表記の規則（preset-ja-technical-writing）に準拠
* 日本語スペーシングルール（preset-ja-spacing）:
    * カタカナ語間の中黒または半角スペースを必須
    * 全角括弧の前後にスペースを入れない
    * 全角文字同士の間にスペースを入れない
    * 半角文字と全角文字の間にスペースを入れない
    * 感嘆符・疑問符の後にスペースを入れる
    * インラインコード周りのスペースは不要
* 副詞、形式名詞、補助動詞をひらがなで表記
* 同義語チェックの有効化
* 用語統一（prh）を以下のルールファイルに基づき実施:
    * 用語集（glossary.yml）
    * 略語（abbreviations.yml）
    * 固有名詞（names.yml）
    * 誤字脱字（typo.yml）

### JavaScript（Prettier）

* 行の長さ: 120文字
* シングルクォート（`'`）を使用
