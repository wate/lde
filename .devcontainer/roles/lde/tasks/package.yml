---
# code: language=ansible
- name: Install development tools
  become: true
  block:
    - name: Install pre-commit
      ansible.builtin.apt:
        name: pre-commit
    - name: Install Graphviz
      ansible.builtin.apt:
        name: graphviz
    # - name: Install PlantUML
    #   ansible.builtin.apt:
    #     name: plantuml
    - name: Install phpDocumentor
      ansible.builtin.get_url:
        url: https://phpdoc.org/phpDocumentor.phar
        dest: /usr/local/bin/phpdoc
        mode: "0755"
- name: Install pip packages
  community.general.pipx:
    name: "{{ item.name }}"
    state: install
    install_deps: true
  loop: "{{ lde_pip_packages }}"
- name: Inject pip packages
  community.general.pipx:
    name: "{{ item.name }}"
    state: inject
    inject_packages: "{{ item.inject_packages }}"
  loop: "{{ lde_pip_packages | selectattr('inject_packages', 'defined') | list }}"
