---
# code: language=ansible
- name: Install development tools
  become: true
  block:
    - name: Install pre-commit
      ansible.builtin.apt:
        name: pre-commit
    - name: Install Graphviz
      ansible.builtin.apt:
        name: graphviz
    - name: Install PlantUML
      ansible.builtin.apt:
        name: plantuml
    - name: Install phpDocumentor
      ansible.builtin.get_url:
        url: https://phpdoc.org/phpDocumentor.phar
        dest: /usr/local/bin/phpdoc
        mode: "0755"
- name: Check requirements.txt
  ansible.builtin.stat:
    path: /vagrant/.devcontainer/requirements.txt
  register: pip_requirements_txt_result
- name: Install pip packages
  ansible.builtin.pip:
    requirements: /vagrant/.devcontainer/requirements.txt
    executable: /usr/bin/pip3
    extra_args: "{{ lde_pip_install_extra_args | join(' ') }}"
  when: pip_requirements_txt_result.stat.exists
