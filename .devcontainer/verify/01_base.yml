---
# code: language=ansible
# Verify package installation status
- name: Verify installed packages
  ansible.builtin.assert:
    that:
      - ansible_facts.packages['mariadb-server'] is defined
      - ansible_facts.packages[php_fpm_name] is defined
      - ansible_facts.packages['redis'] is defined
      - ansible_facts.packages['restic'] is defined
      - ansible_facts.packages['rclone'] is defined
      - ansible_facts.packages['eza'] is defined
      - ansible_facts.packages['lnav'] is defined
    quiet: "{{ assert_quiet_mode }}"
    fail_msg: "Required packages are not installed"
    success_msg: "All required packages are installed"
